<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ø£Ù†ÙŠØ³ÙÙ‡Ù… - ØµØ¯Ù‚Ø© Ø¬Ø§Ø±ÙŠØ©</title>
    <meta name="theme-color" content="#121212">
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icon.png">
    
    <style>
        :root {
            --bg-color: #121212;
            --surface: #1e1e1e;
            --primary: #4CAF50; /* Ø£Ø®Ø¶Ø± */
            --gold: #FFD700;   /* Ø°Ù‡Ø¨ÙŠ Ù„Ù„Ø£Ø³Ù…Ø§Ø¡ */
            --text: #e0e0e0;
            --text-sec: #999;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }

        body {
            margin: 0; padding: 0;
            background-color: var(--bg-color);
            color: var(--text);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            height: 100vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        /* --- ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø­Ø±ÙƒØ© --- */
        .fade-in { animation: fadeIn 0.4s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* --- Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© (Home) --- */
        #view-home {
            display: flex; flex-direction: column;
            height: 100%; padding: 20px;
            text-align: center;
            justify-content: center;
        }

        .header-section { margin-bottom: 30px; }
        .sadaqa-badge { font-size: 0.9rem; color: var(--primary); background: rgba(76, 175, 80, 0.1); padding: 5px 15px; border-radius: 20px; display: inline-block; margin-bottom: 15px; }
        .names-box { background: var(--surface); padding: 20px; border-radius: 15px; border: 1px solid #333; box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
        .honor-title { font-size: 0.9rem; color: var(--text-sec); margin-bottom: 10px; }
        .deceased-name { font-size: 1.1rem; color: var(--gold); font-weight: bold; margin: 5px 0; display: block; }
        .general-doa { font-size: 0.8rem; color: var(--text-sec); margin-top: 10px; }

        /* Ø´Ø¨ÙƒØ© Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… */
        .menu-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 30px; }
        .menu-card {
            background: var(--surface); padding: 20px; border-radius: 15px;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            cursor: pointer; transition: 0.2s; border: 1px solid #333;
            height: 120px;
        }
        .menu-card:active { transform: scale(0.96); border-color: var(--primary); }
        .menu-card.full-width { grid-column: span 2; }
        .menu-icon { font-size: 2rem; margin-bottom: 10px; }
        .menu-label { font-size: 1rem; font-weight: bold; }

        /* --- Ø§Ù„ØµÙØ­Ø§Øª Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ© --- */
        .page-view {
            display: none; /* Ù…Ø®ÙÙŠ Ø§ÙØªØ±Ø§Ø¶ÙŠØ§Ù‹ */
            height: 100%; flex-direction: column;
            padding: 20px;
        }
        
        .top-bar { display: flex; align-items: center; margin-bottom: 20px; }
        .back-btn { background: none; border: none; color: var(--text-sec); font-size: 1.5rem; cursor: pointer; padding: 10px; }
        .page-title { flex: 1; text-align: center; font-weight: bold; font-size: 1.1rem; color: var(--primary); }

        /* --- ØªØµÙ…ÙŠÙ… Ø§Ù„Ø³Ø¨Ø­Ø© --- */
        .tasbeeh-container { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        
        /* Ù‚Ø§Ø¦Ù…Ø© Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø°ÙƒØ± */
        .zikr-select-wrapper { width: 100%; margin-bottom: 20px; position: relative; }
        .zikr-select {
            width: 100%; padding: 15px; background: var(--surface); color: var(--text);
            border: 1px solid #444; border-radius: 12px; font-size: 1rem;
            appearance: none; -webkit-appearance: none; text-align: center;
        }
        
        .counter-circle {
            width: 250px; height: 250px; background: var(--surface); border-radius: 50%;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            box-shadow: 0 0 40px rgba(76, 175, 80, 0.15); border: 3px solid #333;
            cursor: pointer; user-select: none;
        }
        .counter-circle:active { border-color: var(--primary); transform: scale(0.98); }
        .count-number { font-size: 4.5rem; font-weight: bold; color: var(--primary); }
        .count-label { color: var(--text-sec); font-size: 0.9rem; }
        
        .controls { display: flex; gap: 15px; margin-top: 30px; }
        .ctrl-btn { background: #333; border: none; color: #fff; padding: 10px 20px; border-radius: 20px; font-size: 0.9rem; }

        /* --- ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª (Ø¯Ø¹Ø§Ø¡ ÙˆÙ‚Ø±Ø¢Ù†) --- */
        .content-card-container { flex: 1; display: flex; align-items: center; justify-content: center; perspective: 1000px; }
        .content-card {
            background: var(--surface); padding: 30px 20px; border-radius: 20px;
            width: 100%; min-height: 300px; text-align: center;
            display: flex; flex-direction: column; justify-content: center;
            border-right: 4px solid var(--primary); box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transition: transform 0.3s;
        }
        .card-text { font-size: 1.2rem; line-height: 1.8; margin-bottom: 20px; }
        .card-sub { font-size: 0.9rem; color: var(--text-sec); border-top: 1px solid #333; padding-top: 15px; }
        
        .nav-controls { display: flex; justify-content: space-between; align-items: center; margin-top: 20px; width: 100%; }
        .nav-btn {
            background: var(--primary); color: #000; border: none; width: 50px; height: 50px;
            border-radius: 50%; font-size: 1.2rem; cursor: pointer; display: flex; align-items: center; justify-content: center;
            box-shadow: 0 4px 10px rgba(76, 175, 80, 0.3);
        }
        .page-indicator { color: var(--text-sec); font-size: 0.9rem; }

        /* Ø²Ø± Ø§Ù„ØªØ«Ø¨ÙŠØª */
        #install-btn { display: none; margin-bottom: 10px; width: 100%; padding: 10px; background: #333; color: #fff; border: 1px solid #555; border-radius: 8px; }

    </style>
</head>
<body>

    <div id="view-home" class="fade-in">
        <button id="install-btn">ğŸ“² ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</button>

        <div class="header-section">
            <span class="sadaqa-badge">ØµØ¯Ù‚Ø© Ø¬Ø§Ø±ÙŠØ©</span>
            <div class="names-box">
                <div class="honor-title">Ù†ÙˆØ±ÙŒ ÙˆØ±Ø­Ù…Ø© Ø¨Ø¥Ø°Ù† Ø§Ù„Ù„Ù‡ Ù„Ø±ÙˆØ­:</div>
                <span class="deceased-name">Ø§Ù„Ø­Ø¬Ù‡/ ÙØ§Ø·Ù…Ø© Ù…Ø­Ù…ÙˆØ¯</span>
                <div class="general-doa">ÙˆØ¬Ù…ÙŠØ¹ Ø£Ù…ÙˆØ§ØªÙ†Ø§ ÙˆØ£Ù…ÙˆØ§Øª Ø§Ù„Ù…Ø³Ù„Ù…ÙŠÙ†</div>
            </div>
        </div>

        <div class="menu-grid">
            <div class="menu-card full-width" onclick="navigate('tasbeeh')">
                <span class="menu-icon">ğŸ“¿</span>
                <span class="menu-label">Ø§Ù„Ù…Ø³Ø¨Ø­Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©</span>
            </div>
            <div class="menu-card" onclick="navigate('dua')">
                <span class="menu-icon">ğŸ¤²</span>
                <span class="menu-label">Ø£Ø¯Ø¹ÙŠØ© Ù„Ù„Ù…ØªÙˆÙÙŠ</span>
            </div>
            <div class="menu-card" onclick="navigate('quran')">
                <span class="menu-icon">ğŸ“–</span>
                <span class="menu-label">Ø¢ÙŠØ§Øª ÙˆØªØ¯Ø¨Ø±</span>
            </div>
        </div>
    </div>

    <div id="view-tasbeeh" class="page-view">
        <div class="top-bar">
            <button class="back-btn" onclick="navigate('home')">âœ</button>
            <div class="page-title">Ø§Ù„Ø³Ø¨Ø­Ø©</div>
            <div style="width: 40px;"></div> </div>

        <div class="tasbeeh-container fade-in">
            <div class="zikr-select-wrapper">
                <select id="zikr-select" class="zikr-select" onchange="resetCounterForNewZikr()">
                    <option value="Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø­Ù…Ø¯Ù‡">Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø­Ù…Ø¯Ù‡</option>
                    <option value="Ø£Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡ Ø§Ù„Ø¹Ø¸ÙŠÙ…">Ø£Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡ Ø§Ù„Ø¹Ø¸ÙŠÙ…</option>
                    <option value="Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡">Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡</option>
                    <option value="Ø§Ù„Ù„Ù‡ Ø£ÙƒØ¨Ø±">Ø§Ù„Ù„Ù‡ Ø£ÙƒØ¨Ø±</option>
                    <option value="Ù„Ø§ Ø­ÙˆÙ„ ÙˆÙ„Ø§ Ù‚ÙˆØ© Ø¥Ù„Ø§ Ø¨Ø§Ù„Ù„Ù‡">Ù„Ø§ Ø­ÙˆÙ„ ÙˆÙ„Ø§ Ù‚ÙˆØ© Ø¥Ù„Ø§ Ø¨Ø§Ù„Ù„Ù‡</option>
                    <option value="Ø§Ù„Ù„Ù‡Ù… ØµÙ„Ù Ø¹Ù„Ù‰ Ù…Ø­Ù…Ø¯">Ø§Ù„Ù„Ù‡Ù… ØµÙ„Ù Ø¹Ù„Ù‰ Ù…Ø­Ù…Ø¯</option>
                </select>
            </div>

            <div class="counter-circle" onclick="increment()">
                <div class="count-number" id="count-display">0</div>
                <div class="count-label">Ø§Ø¶ØºØ· Ù„Ù„ØªØ³Ø¨ÙŠØ­</div>
            </div>

            <div class="controls">
                <button class="ctrl-btn" onclick="resetCount()">ØªØµÙÙŠØ±</button>
            </div>
        </div>
    </div>

    <div id="view-dua" class="page-view">
        <div class="top-bar">
            <button class="back-btn" onclick="navigate('home')">âœ</button>
            <div class="page-title">Ø¯Ø¹Ø§Ø¡ Ù„Ù„Ù…ØªÙˆÙÙŠ</div>
            <div style="width: 40px;"></div>
        </div>

        <div class="content-card-container">
            <div class="content-card fade-in" id="dua-card">
                <div class="card-text" id="dua-text">...</div>
            </div>
        </div>

        <div class="nav-controls">
            <button class="nav-btn" onclick="changeDua(-1)">âœ</button>
            <span class="page-indicator" id="dua-indicator">1 / 20</span>
            <button class="nav-btn" onclick="changeDua(1)">âœ</button> </div>
    </div>

    <div id="view-quran" class="page-view">
        <div class="top-bar">
            <button class="back-btn" onclick="navigate('home')">âœ</button>
            <div class="page-title">Ø¢ÙŠØ© ÙˆØªØ¯Ø¨Ø±</div>
            <div style="width: 40px;"></div>
        </div>

        <div class="content-card-container">
            <div class="content-card fade-in" id="ayah-card">
                <div class="card-text" id="ayah-text" style="font-family: 'Amiri', serif; font-size: 1.4rem;">...</div>
                <div class="card-sub" id="tafseer-text">...</div>
            </div>
        </div>

        <div class="nav-controls">
            <button class="nav-btn" onclick="changeAyah(-1)">âœ</button>
            <span class="page-indicator" id="ayah-indicator">1 / 15</span>
            <button class="nav-btn" onclick="changeAyah(1)">âœ</button>
        </div>
    </div>

    <script>
        // --- Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ---
        const duas = [
            "Ø§Ù„Ù„Ù‡Ù… Ø§ØºÙØ± Ù„Ù„Ø­Ø¬Ù‡ ÙØ§Ø·Ù…Ù‡ Ù…Ø­Ù…ÙˆØ¯ ÙˆØ§Ø±Ø­Ù…Ù‡Ø§ ÙˆØ¹Ø§ÙÙ‡Ø§ ÙˆØ§Ø¹Ù Ø¹Ù†Ù‡Ø§.",
            "Ø§Ù„Ù„Ù‡Ù… Ø§Ø¬Ø¹Ù„ Ù‚Ø¨Ø±Ù‡Ø§ Ø±ÙˆØ¶Ø© Ù…Ù† Ø±ÙŠØ§Ø¶ Ø§Ù„Ø¬Ù†Ø© ÙˆÙ„Ø§ ØªØ¬Ø¹Ù„Ù‡ Ø­ÙØ±Ø© Ù…Ù† Ø­ÙØ± Ø§Ù„Ù†Ø§Ø±.",
            "Ø§Ù„Ù„Ù‡Ù… ÙŠÙ…Ù† ÙƒØªØ§Ø¨Ù‡Ø§ ÙˆÙŠØ³Ø± Ø­Ø³Ø§Ø¨Ù‡Ø§ ÙˆØ«Ù‚Ù„ Ø¨Ø§Ù„Ø­Ø³Ù†Ø§Øª Ù…ÙŠØ²Ø§Ù†Ù‡Ø§.",
            "Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†Ù‡Ù… Ù†Ø²Ù„ÙˆØ§ Ø¨Ùƒ ÙˆØ£Ù†Øª Ø®ÙŠØ± Ù…Ù†Ø²ÙˆÙ„ Ø¨Ù‡ØŒ ÙˆØ£ØµØ¨Ø­ÙˆØ§ ÙÙ‚Ø±Ø§Ø¡ Ø¥Ù„Ù‰ Ø±Ø­Ù…ØªÙƒ ÙˆØ£Ù†Øª ØºÙ†ÙŠ Ø¹Ù† Ø¹Ø°Ø§Ø¨Ù‡Ù….",
            "Ø§Ù„Ù„Ù‡Ù… Ø£Ø¨Ø¯Ù„Ù‡Ø§ Ø¯Ø§Ø±Ø§Ù‹ Ø®ÙŠØ±Ø§Ù‹ Ù…Ù† Ø¯Ø§Ø±Ù‡Ø§ ÙˆØ£Ù‡Ù„Ø§Ù‹ Ø®ÙŠØ±Ø§Ù‹ Ù…Ù† Ø£Ù‡Ù„Ù‡Ø§.",
            "Ø§Ù„Ù„Ù‡Ù… Ø§Ø±Ø²Ù‚Ù‡Ø§ Ù„Ø°Ø© Ø§Ù„Ù†Ø¸Ø± Ø¥Ù„Ù‰ ÙˆØ¬Ù‡Ùƒ Ø§Ù„ÙƒØ±ÙŠÙ… ÙˆØ´Ø±Ø¨Ø© Ù‡Ù†ÙŠØ¦Ø© Ù…Ù† ÙŠØ¯ Ø­Ø¨ÙŠØ¨Ùƒ Ø§Ù„Ù…ØµØ·ÙÙ‰.",
            "Ø§Ù„Ù„Ù‡Ù… Ø§Ù†Ø¸Ø± Ø¥Ù„ÙŠÙ‡Ø§ Ù†Ø¸Ø±Ø© Ø±Ø¶Ø§ØŒ ÙØ¥Ù† Ù…Ù† ØªÙ†Ø¸Ø± Ø¥Ù„ÙŠÙ‡ Ù†Ø¸Ø±Ø© Ø±Ø¶Ø§ Ù„Ø§ ØªØ¹Ø°Ø¨Ù‡ Ø£Ø¨Ø¯Ø§Ù‹.",
            "Ø§Ù„Ù„Ù‡Ù… Ø£Ø³ÙƒÙ†Ù‡Ø§ Ø§Ù„ÙØ±Ø¯ÙˆØ³ Ø§Ù„Ø£Ø¹Ù„Ù‰ Ù…Ù† Ø§Ù„Ø¬Ù†Ø© Ø¨ØºÙŠØ± Ø­Ø³Ø§Ø¨ ÙˆÙ„Ø§ Ø³Ø§Ø¨Ù‚Ø© Ø¹Ø°Ø§Ø¨.",
            "Ø§Ù„Ù„Ù‡Ù… Ø§Ø¬Ø¹Ù„Ù‡Ø§ ÙÙŠ Ø²Ù…Ø±Ø© Ø§Ù„Ù…Ù‚Ø±Ø¨ÙŠÙ† ÙˆØ¨Ø´Ø±Ù‡Ø§ Ø¨Ø±ÙˆØ­ ÙˆØ±ÙŠØ­Ø§Ù† ÙˆØ±Ø¨ Ø±Ø§Ø¶ ØºÙŠØ± ØºØ¶Ø¨Ø§Ù†.",
            "Ø§Ù„Ù„Ù‡Ù… Ø¥Ù† ÙƒØ§Ù†Øª Ù…Ø­Ø³Ù†Ù‡ ÙØ²Ø¯ ÙÙŠ Ø­Ø³Ù†Ø§ØªÙ‡Ø§ ÙˆØ¥Ù† ÙƒØ§Ù†Øª Ù…Ø³ÙŠØ¦Ù‡ ÙØªØ¬Ø§ÙˆØ² Ø¹Ù† Ø³ÙŠØ¦Ø§ØªÙ‡Ø§."
        ];

        const ayahs = [
            { t: "ÙˆÙØ¨ÙØ´ÙÙ‘Ø±Ù Ø§Ù„ØµÙÙ‘Ø§Ø¨ÙØ±ÙÙŠÙ†Ù Ø§Ù„ÙÙ‘Ø°ÙÙŠÙ†Ù Ø¥ÙØ°ÙØ§ Ø£ÙØµÙØ§Ø¨ÙØªÙ’Ù‡ÙÙ… Ù…ÙÙ‘ØµÙÙŠØ¨ÙØ©ÙŒ Ù‚ÙØ§Ù„ÙÙˆØ§Ù’ Ø¥ÙÙ†ÙÙ‘Ø§ Ù„ÙÙ„Ù‘Ù‡Ù ÙˆÙØ¥ÙÙ†ÙÙ‘Ø§ Ø¥ÙÙ„ÙÙŠÙ’Ù‡Ù Ø±ÙØ§Ø¬ÙØ¹ÙˆÙ†Ù", f: "Ø¨Ø´Ø§Ø±Ø© Ø¹Ø¸ÙŠÙ…Ø© Ù„ÙƒÙ„ ØµØ§Ø¨Ø± Ù…Ø­ØªØ³Ø¨." },
            { t: "ÙÙØ¥ÙÙ†ÙÙ‘ Ù…ÙØ¹Ù Ø§Ù„Ù’Ø¹ÙØ³Ù’Ø±Ù ÙŠÙØ³Ù’Ø±Ù‹Ø§ * Ø¥ÙÙ†ÙÙ‘ Ù…ÙØ¹Ù Ø§Ù„Ù’Ø¹ÙØ³Ù’Ø±Ù ÙŠÙØ³Ù’Ø±Ù‹Ø§", f: "ØªØ£ÙƒÙŠØ¯ Ø±Ø¨Ø§Ù†ÙŠ Ø¨Ø£Ù† Ø§Ù„ÙØ±Ø¬ Ù…Ù„Ø§Ø²Ù… Ù„Ù„Ø¶ÙŠÙ‚." },
            { t: "ÙˆÙØ±ÙØ­Ù’Ù…ÙØªÙÙŠ ÙˆÙØ³ÙØ¹ÙØªÙ’ ÙƒÙÙ„ÙÙ‘ Ø´ÙÙŠÙ’Ø¡Ù", f: "Ø±Ø­Ù…Ø© Ø§Ù„Ù„Ù‡ Ø£ÙƒØ¨Ø± Ù…Ù† Ø°Ù†ÙˆØ¨Ù†Ø§ ÙˆÙ‡Ù…ÙˆÙ…Ù†Ø§." },
            { t: "Ù„ÙØ§ ÙŠÙÙƒÙÙ„ÙÙ‘ÙÙ Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ù†ÙÙÙ’Ø³Ù‹Ø§ Ø¥ÙÙ„ÙÙ‘Ø§ ÙˆÙØ³Ù’Ø¹ÙÙ‡ÙØ§", f: "Ø§Ù„Ù„Ù‡ ÙŠØ¹Ù„Ù… Ù‚Ø¯Ø±ØªÙƒØŒ ÙˆÙ„Ù† ÙŠØ­Ù…Ù„Ùƒ ÙÙˆÙ‚ Ø·Ø§Ù‚ØªÙƒ." },
            { t: "ÙˆÙØ§ØµÙ’Ø¨ÙØ±Ù’ Ù„ÙØ­ÙÙƒÙ’Ù…Ù Ø±ÙØ¨ÙÙ‘ÙƒÙ ÙÙØ¥ÙÙ†ÙÙ‘ÙƒÙ Ø¨ÙØ£ÙØ¹Ù’ÙŠÙÙ†ÙÙ†ÙØ§", f: "Ù‚Ù…Ø© Ø§Ù„Ø£Ù…Ø§Ù† Ø£Ù† ØªÙƒÙˆÙ† ÙÙŠ Ø±Ø¹Ø§ÙŠØ© Ø§Ù„Ù„Ù‡ ÙˆØ­ÙØ¸Ù‡." },
            { t: "Ù‚ÙÙ„Ù’ Ù„ÙÙ†Ù’ ÙŠÙØµÙÙŠØ¨ÙÙ†ÙØ§ Ø¥ÙÙ„ÙÙ‘Ø§ Ù…ÙØ§ ÙƒÙØªÙØ¨Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ù„ÙÙ†ÙØ§", f: "Ø§Ù„Ø·Ù…Ø£Ù†ÙŠÙ†Ø© Ø¨Ø§Ù„Ù‚Ø¶Ø§Ø¡ ÙˆØ§Ù„Ù‚Ø¯Ø±." },
            { t: "Ø£ÙÙ„ÙØ§ Ø¨ÙØ°ÙÙƒÙ’Ø±Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù ØªÙØ·Ù’Ù…ÙØ¦ÙÙ†ÙÙ‘ Ø§Ù„Ù’Ù‚ÙÙ„ÙÙˆØ¨Ù", f: "Ø¹Ù„Ø§Ø¬ Ø§Ù„Ù‚Ù„Ù‚ ÙˆØ§Ù„ÙˆØ­Ø´Ø© Ù‡Ùˆ Ø§Ù„Ø°ÙƒØ±." }
        ];

        // --- Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø© ---
        let currentCount = parseInt(localStorage.getItem('count')) || 0;
        let duaIndex = 0;
        let ayahIndex = 0;

        // --- Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„ØµÙØ­Ø§Øª ---
        function navigate(viewName) {
            // Ø¥Ø®ÙØ§Ø¡ ÙƒÙ„ Ø§Ù„ØµÙØ­Ø§Øª
            document.getElementById('view-home').style.display = 'none';
            document.querySelectorAll('.page-view').forEach(el => el.style.display = 'none');

            // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
            const target = document.getElementById(viewName === 'home' ? 'view-home' : 'view-' + viewName);
            target.style.display = viewName === 'home' ? 'flex' : 'flex'; // Home flex layout
            
            // Ø¥Ø¶Ø§ÙØ© Ø£Ù†ÙŠÙ…ÙŠØ´Ù† Ø§Ù„Ø¸Ù‡ÙˆØ±
            target.classList.remove('fade-in');
            void target.offsetWidth; // Trigger reflow
            target.classList.add('fade-in');

            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø¹Ù†Ø¯ Ø§Ù„ÙØªØ­
            if(viewName === 'tasbeeh') document.getElementById('count-display').innerText = currentCount;
            if(viewName === 'dua') updateDuaCard();
            if(viewName === 'quran') updateAyahCard();
        }

        // --- Ù…Ù†Ø·Ù‚ Ø§Ù„Ø³Ø¨Ø­Ø© ---
        function increment() {
            currentCount++;
            document.getElementById('count-display').innerText = currentCount;
            localStorage.setItem('count', currentCount);
            if (navigator.vibrate) navigator.vibrate(25);
        }

        function resetCount() {
            if(confirm('ØªØµÙÙŠØ± Ø§Ù„Ø¹Ø¯Ø§Ø¯ØŸ')) {
                currentCount = 0;
                document.getElementById('count-display').innerText = 0;
                localStorage.setItem('count', 0);
            }
        }

        function resetCounterForNewZikr() {
            // Ø§Ø®ØªÙŠØ§Ø±ÙŠ: Ù‡Ù„ ØªØ±ÙŠØ¯ ØªØµÙÙŠØ± Ø§Ù„Ø¹Ø¯Ø§Ø¯ Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø§Ù„Ø°ÙƒØ±ØŸ 
            // Ø­Ø§Ù„ÙŠØ§Ù‹ Ø³Ø£ØªØ±ÙƒÙ‡ ÙŠØ­ØªÙØ¸ Ø¨Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ ÙƒÙ†ÙˆØ¹ Ù…Ù† "Ø§Ù„Ø­ØµØ§Ù„Ø©"
            // Ù„Ùˆ Ø£Ø±Ø¯Øª Ø§Ù„ØªØµÙÙŠØ± Ø§Ø­Ø°Ù Ø§Ù„ØªØ¹Ù„ÙŠÙ‚ Ù…Ù† Ø§Ù„Ø³Ø·Ø± Ø§Ù„ØªØ§Ù„ÙŠ:
            // currentCount = 0; document.getElementById('count-display').innerText = 0;
        }

        // --- Ù…Ù†Ø·Ù‚ ØªÙ‚Ù„ÙŠØ¨ Ø§Ù„Ø£Ø¯Ø¹ÙŠØ© ---
        function updateDuaCard() {
            const card = document.getElementById('dua-card');
            card.style.opacity = 0; // Ø§Ø®ØªÙØ§Ø¡ Ù„Ø­Ø¸ÙŠ
            setTimeout(() => {
                document.getElementById('dua-text').innerText = duas[duaIndex];
                document.getElementById('dua-indicator').innerText = (duaIndex + 1) + ' / ' + duas.length;
                card.style.opacity = 1; // Ø¸Ù‡ÙˆØ±
            }, 200);
        }

        function changeDua(direction) {
            // direction: 1 for next, -1 for prev
            // Ù…Ù„Ø§Ø­Ø¸Ø©: Ø¨Ø³Ø¨Ø¨ RTL (Ù…Ù† Ø§Ù„ÙŠÙ…ÙŠÙ† Ù„Ù„ÙŠØ³Ø§Ø±)ØŒ Ø§Ù„Ø²Ø± Ø§Ù„ÙŠÙ…ÙŠÙ† (Ø§Ù„Ø³Ù‡Ù… Ø§Ù„ÙŠØ³Ø§Ø±) Ù‡Ùˆ Ø§Ù„ØªØ§Ù„ÙŠ ÙˆØ§Ù„Ø¹ÙƒØ³
            // Ø³Ù†Ù‚ÙˆÙ… Ø¨Ø¹ÙƒØ³ Ø§Ù„Ù…Ù†Ø·Ù‚ Ù„ÙŠØªÙ…Ø§Ø´Ù‰ Ù…Ø¹ Ø§Ù„Ø£Ø³Ù‡Ù… Ø¨ØµØ±ÛŒØ§Ù‹
            direction = direction * -1; 
            
            duaIndex += direction;
            if (duaIndex >= duas.length) duaIndex = 0;
            if (duaIndex < 0) duaIndex = duas.length - 1;
            updateDuaCard();
        }

        // --- Ù…Ù†Ø·Ù‚ ØªÙ‚Ù„ÙŠØ¨ Ø§Ù„Ø¢ÙŠØ§Øª ---
        function updateAyahCard() {
            const card = document.getElementById('ayah-card');
            card.style.opacity = 0;
            setTimeout(() => {
                document.getElementById('ayah-text').innerText = ayahs[ayahIndex].t;
                document.getElementById('tafseer-text').innerText = ayahs[ayahIndex].f;
                document.getElementById('ayah-indicator').innerText = (ayahIndex + 1) + ' / ' + ayahs.length;
                card.style.opacity = 1;
            }, 200);
        }

        function changeAyah(direction) {
            direction = direction * -1; // Ø¹ÙƒØ³ Ø§Ù„Ø§ØªØ¬Ø§Ù‡ Ø¨Ø³Ø¨Ø¨ RTL
            ayahIndex += direction;
            if (ayahIndex >= ayahs.length) ayahIndex = 0;
            if (ayahIndex < 0) ayahIndex = ayahs.length - 1;
            updateAyahCard();
        }

        // --- PWA Install ---
        let deferredPrompt;
        const installBtn = document.getElementById('install-btn');
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault(); deferredPrompt = e; installBtn.style.display = 'block';
        });
        installBtn.addEventListener('click', () => {
            installBtn.style.display = 'none';
            if(deferredPrompt) { deferredPrompt.prompt(); deferredPrompt = null; }
        });

        // Service Worker
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js');
        }
    </script>
</body>

</html>

